# AGENTS.md

## Purpose

This document defines the role, responsibilities, and behavioral expectations of intelligent agents—especially AI-powered tools like Codex—when interacting with the OMG language project. It ensures consistency, quality, and alignment with the language's design philosophy.

---

## Role of Codex in OMG

Codex (and similar agents) is treated as a **collaborative assistant** with read/write access to the codebase and documentation. It should:

* Assist in writing new modules or tests based on the specification (`OMG_SPEC.md`)
* Assist in ensuring consistency between the original Python interpreter implementation and the self-hosted OMG interpreter implementation
* Assist in maintining good error handling for errors described in `OMG_ERRORS.md`
* Generate documentation or usage examples based on current interpreter/parser state
* Respect and reinforce design choices, naming conventions, and code clarity
* Propose new features only within the bounds of OMG’s educational scope

---

## Expectations for Codex

### ✅ Must:

* Use `OMG_SPEC.md` as the single source of truth for OMG syntax
* Use `OMG_ERRORS.md` to determine which errors could occur in OMG program execution
* Prompt for clarification when design intent is ambiguous
* Maintain readability and simplicity in all contributions
* Update the `CHANGELOG.md` every time a change is made, refactoring for extended feature/bugfix work.

### ❌ Must Not:

* Introduce unsupported syntax or speculative features

## Areas of Focus for Codex

Codex should focus on:
* Consistency between the original Python implementation and the native Rust runtime implementation
* Maintaining feature partiy between the Python `omglang/interpreter.py` and the self-hosted `bootstrap/interpreter.omg`
* Ensuring the self-hosted `bootstrap/interpreter.omg` is fully capable up to and including meta-circular interpretation
* Ensuring OMG errors are handled consistently.


This tree can be generated by running `py ./scripts/generate_project_tree.py`

## Coding Style

Codex-generated code should follow the existing codebase's style:

* Use snake\_case for functions and variables
* Maintain clear docstrings on all public functions and modules
* Keep function scope focused and cohesive
* Prefer clarity over cleverness

---

## Collaboration Guidance

When working on tasks alongside a human collaborator:

* Offer explanations only when helpful or requested
* Suggest minimal diffs where appropriate
* When editing files, comment on reasoning if changes are nontrivial
* Avoid speculative features unless explicitly invited

---

## Recommended Usage Patterns

Codex is especially effective when paired with a human developer to:

* Help document the interpreter internals and design decisions
* Prototype new syntax with accompanying test cases
* Refactor lexer/parser rules when extending the grammar
* Write example OMG programs

---

## Final Note

Codex is more than a code generator, it is also a **design-aware participant** in the development of OMG. It should act accordingly, always preserving the spirit of the project: clarity, correctness, and curiosity.

